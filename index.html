<!DOCTYPE HTML >
<head>
<title> CheckList </title>
<link rel="stylesheet" href="checklist.css">
<link rel="icon" type="image/x-icon" href="check.png">
<link href="https://fonts.googleapis.com/css2?family=Jua&family=Sour+Gummy:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
<meta name="viewport" content="width= device-width, initial-scale=1.0">

  <meta property="og:title" content="Checklist" />
  <meta property="og:description" content="a minimal-style checklist to help you organise the day's tasks" />
  <meta property="og:image" content="https://raw.githubusercontent.com/urwinnieverse/checklist/refs/heads/main/check.png" />
  <meta property="og:url" content="https://urwinnieverse.github.io/checklist/" />
  <meta property="og:type" content="website" />
    
</head>
<body>
    
<select id="themeSelect">
  <option value="" selected>ðŸŽ¨</option>
  <option value="black">Black</option>
  <option value="pink">Pink</option>
  <option value="blue">Blue</option>
  <option value="green">Green</option>
  <option value="yellow">Yellow</option>
  <option value="red">Red</option>
  <option value="orange">Orange</option>
  <option value="brown">Brown/Beige</option>
  <option value="purple">Purple</option>
</select>  
<div id="paper">

<label id="title"> CHECKLIST </label> 
<div id="task-container">
<ul id=tasks>

</ul> 
</div>
<input type="text" id="taskInput" placeholder="Enter your task here âœ”ï¸">


</div>        

<button id="add" onclick="Getinput()"> Add Task! </button>

</body>  

<script>
function saveTasks() {
    const tasks = [];
    document.querySelectorAll('.list').forEach(li => {
        const text = li.querySelector('.task-text').textContent;
        const checked = li.querySelector('.task-check').checked;
        tasks.push({ text, checked });
    });
    localStorage.setItem('tasks', JSON.stringify(tasks));
}

function addTask(text, checked = false) {
    const ul = document.getElementById('tasks');
    const li = document.createElement('li');
    li.className = 'list';

    const checkbox = document.createElement('input');
    checkbox.type = 'checkbox';
    checkbox.className = 'task-check';
    checkbox.checked = checked;

    const span = document.createElement('span');
    span.className = 'task-text';
    span.textContent = text;

    const trash = document.createElement('button');
    trash.className = 'trash-icon';
    trash.textContent = 'ðŸ—‘ï¸';

    li.appendChild(checkbox);
    li.appendChild(span);
    li.appendChild(trash);
    ul.appendChild(li);

   checkbox.addEventListener('change', function() {
    if (checkbox.checked) {
        span.style.textDecoration = 'line-through';
        span.style.color = '#888'; // optional, make it lighter
    } else {
        span.style.textDecoration = 'none';
        span.style.color = '#646464'; // original color
    }
    saveTasks(); // still save
});

    trash.addEventListener('click', function() {
        li.remove();
        saveTasks();
    });
}

function loadTasks() {
    const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
    tasks.forEach(task => addTask(task.text, task.checked));
}

function Getinput() {
    const input = document.getElementById('taskInput'); // get the element itself
    const text = input.value.trim();                    // get its value
    if (!text) return;

    addTask(text);
    input.value = '';   // clear input
    input.focus();      // focus for next task
    saveTasks();        // save
}

const themes = {
  black: { bg: "white", border: "black", check:'white' },  
  pink: { bg: "#FFF1F1", border: "#dda6a9", check: 'pink' },
  blue: { bg: "#CBDCEB", border: "#809eb9", check: 'blue' },
  green: { bg: "#F1F3E0", border: "#A1BC98", check:'green' },
  yellow: { bg: "#FFF8DE", border: "#edca07dd", check:'yellow' },
  red: { bg: "#ff908a", border: "#BF1A1A", check:'red' },
  orange: { bg: "#F9B487", border: "#EF7722", check:'orange' },
  brown: { bg: "#E6D8C3", border: "#7B542F", check:'beige' },
  purple:{ bg: "#e9e2ff", border: "#8D5F8C", check:'purple' }
};

const select = document.getElementById("themeSelect");

select.addEventListener("change", (e) => {
  const theme = themes[e.target.value];
  if (!theme) return;  // placeholder selected â†’ do nothing
  for (let key in theme) {
    document.documentElement.style.setProperty(`--${key}`, theme[key]);
  }

  localStorage.setItem("selectedTheme", e.target.value);

  select.value = "";

});

document.addEventListener("DOMContentLoaded", () => {
  const saved = localStorage.getItem("selectedTheme");
  if (saved && themes[saved]) {
    const theme = themes[saved];
    for (let key in theme) {
      document.documentElement.style.setProperty(`--${key}`, theme[key]);
    }
    select.value = saved; // set dropdown to saved color
  }

  select.value = "";
});




// wait for DOM
document.addEventListener('DOMContentLoaded', function() {
    loadTasks();
});
</script>
   

